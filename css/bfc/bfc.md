## FC
Formatting Context
```
Formatting context 是 W3C CSS2.1 规范中的一个概念。它是页面中的一块渲染区域，并且有一套渲染规则，它决定了其子元素将如何定位，以及和其他元素的关系和相互作用。最常见的 Formatting context 有 Block fomatting context (简称BFC)和 Inline formatting context (简称IFC)。
```
## 如何触发一个盒子的bfc
- 根元素
- 浮动元素
- 定位元素
- overflow 不等于visible的块盒 
- display的值是inline-block、table-cell、flex、table-caption或者inline-flex


## bfc 的作用
1. 在元素的内部，创造一块独立的渲染区域
2. 规定了该区域中，常规流块盒的部局
3. 不同的BFC区域，进行渲染时互不干扰。
4. 创建了BFC的元素，隔绝了它内部和外部的联系，内部的渲染不会影响到外部，反之也如此。

```
J. 元素内部创造的bfc区域，即常规流布局，其所包含的元素也即是常规流元素。但是，这个元素本身并不是常规流元素，而是bfc元素。
```

## bfc 具体规则：
1. BFC元素内部的Box会在垂直方向，一个接一个地放置。
2. Box垂直方向的距离由margin决定。属于同一个BFC的两个相邻Box的margin会发生重叠。
3. 每个盒子（块盒与行盒）的margin box的左边，与包含块border box的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此。
4. 创建了BFC的元素，它的自动高度需要计算其“内部”的浮动元素
```
注意，只是会计算浮动元素，不要把这个情况“发散”到绝对定位和固定定位。浮动元素虽然脱离了文档流，但是在具体的排版上跟常规流还有一点联系，而绝对定位和固定定位，则在排版上也完全脱离常规流了，也就是说，无论如何自动高度是不会计算绝对定位和固定定位元素的。
```
5. 创建了BFC的元素，它的边框盒不会与“外部”浮动元素重叠
```
注意，只是不会跟浮动元素重叠，不要把这个情况“发散”到绝对定位和固定定位。浮动元素虽然脱离了文档流，但是在具体的排版上跟常规流还有一点联系，而绝对定位和固定定位，则在排版上也完全脱离常规流了。
```
6. 创建了BFC的元素，不会和它的子元素进行外边距合并（j. 因为父子元素此时是属于不同和bfc区域）


  
## 人为触发bfc 的使用场景

- 解决 **margin塌陷**。
解决方法：触发父盒子的bfc
   > 但是需要注意的是，通过bfc 解决margin 塌陷都会有一定的副作用，要根据具体的需求场景来选择哪种方式来触发bfc。

- 解决兄弟元素上下margin之间 **margin合并的问题**（J.这条好像有问题，父元素的bfc，应该不可以解决兄弟元素的margin合并，应该再验证下视频）
   解决方法：给兄弟元素外面加一层父元素，并触发父元素的bfc，这样两个兄弟盒子之间的上下margin 就会累加，而不是重合。

   > 但是实际上不允许这样解决，因为与解决margin 塌陷不同（只修改css，不必多加层），多加一层父元素，就多了一层结构，实际开发中，不应该添加无意义的结构。所以实际开发中，**margin合并**的问题不用解决，或者说是直接通过简单的数学手段解决就行了。



1. 去除边距重叠现象

2. 清除浮动（让父元素的高度包含子浮动元素）

3. 避免某元素被浮动元素覆盖

4. 避免多列布局由于宽度计算四舍五入而自动换行